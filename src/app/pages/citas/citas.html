<h2>Formularios para Citas</h2>

<form (ngSubmit)="agendarCita()">
    <h3>Agendar Nueva Cita Médica</h3>
    <div>
        <label for="fecha_cita_nueva">Fecha y Hora:</label>
        <input type="datetime-local" id="fecha_cita_nueva" name="fecha_cita_nueva" 
               [(ngModel)]="nuevaCita.fecha" required>
    </div>
    <br>
    <div>
        <label for="id_paciente_cita_nueva">ID del Paciente:</label>
        <input type="number" id="id_paciente_cita_nueva" name="id_paciente_cita_nueva" placeholder="Ej: 115" 
               [(ngModel)]="nuevaCita.id_paciente" required>
    </div>
    <br>
    <div>
        <label for="id_medico_cita_nueva">ID del Médico:</label>
        <input type="number" id="id_medico_cita_nueva" name="id_medico_cita_nueva" placeholder="Ej: 48" 
               [(ngModel)]="nuevaCita.id_medico" required>
    </div>
    <br>
    <div>
        <button type="submit">Agendar Cita (Simulado)</button>
    </div>
</form>

<hr>

<h2>Citas Agendadas</h2>
<div *ngIf="listaCitas.length === 0">
    No hay citas agendadas.
</div>
<table *ngIf="listaCitas.length > 0">
    <thead>
        <tr>
            <th>ID Cita</th>
            <th>Fecha y Hora</th>
            <th>ID Paciente</th>
            <th>ID Médico</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let cita of listaCitas">
            <td>{{ cita.id }}</td>
            <td>{{ cita.fecha | date:'yyyy-MM-dd HH:mm' }}</td> 
            <td>{{ cita.id_paciente }}</td>
            <td>{{ cita.id_medico }}</td>
            <td>
                <button (click)="eliminarCita(cita.id)">Cancelar Cita (Simulado)</button>
                </td>
        </tr>
    </tbody>
</table>